<mat-grid-list cols="2" rowHeight="2:1">
  <mat-grid-tile *ngFor="let food of foods; trackBy: trackFood">
    <mat-card>
      <mat-card-header>
        <mat-card-title>{{ food.name }}</mat-card-title>
        <mat-card-subtitle>{{ food.price }} €</mat-card-subtitle>
        @if(food.reduce) {
        <mat-card-subtitle class="text-green">
          Réduction de {{ food.reduce }}€ profitez en !</mat-card-subtitle
        >
        }
      </mat-card-header>
      <mat-card-actions align="end">
        <button (click)="addToCart(food)" mat-button>Ajouter au panier</button>
      </mat-card-actions>
    </mat-card>
  </mat-grid-tile>

  <mat-grid-tile [formGroup]="foodFormGroup" [colspan]="2" [rowspan]="2">
    <div class="flex-div">
      <span>Ajouter un produit non existant dans la liste</span>
      <mat-form-field>
        <mat-label>Nom du produit</mat-label>
        <input
          matInput
          type="text"
          placeholder="Ex. Poire"
          formControlName="name"
        />
        @if(showRequiredNameError) {
        <mat-error>Le champ ne peut être vide</mat-error>
        } @if(showCurrentlyExistNameError) {
        <mat-error>Erreur nom du produit déjà existant</mat-error>
        }
      </mat-form-field>

      <mat-form-field>
        <mat-label>Prix (en €)</mat-label>
        <input
          matInput
          type="number"
          placeholder="Ex. 3.5"
          formControlName="price"
        />
        @if(showRequiredPriceError) {
        <mat-error>Le champ ne peut être vide</mat-error>
        }
      </mat-form-field>

      <mat-form-field class="pb-40">
        <mat-label>Réduction (en €)</mat-label>
        <input
          matInput
          type="number"
          placeholder="Ex. 0.3"
          formControlName="reduce"
        />
      </mat-form-field>

      <button mat-flat-button (click)="save()">Enregistrer</button>
    </div>
  </mat-grid-tile>
</mat-grid-list>
